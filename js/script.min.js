$(document).ready(function(){$("#preloader").length&&$("#preloader").delay(1e3).fadeOut("slow",function(){$(this).remove()}),$.ajax({type:"GET",url:"php/countryCodes.php",dataType:"json",success:function(e){for(index=0;index<e.data.length;index++){let t=e.data[index].properties.name,i=e.data[index].properties.iso_a3;$("#countryList").append("<option id= "+i+" value="+i+">"+t+"</option>")}}}),document.getElementById("initial-location");navigator.geolocation?navigator.geolocation.getCurrentPosition(function e(t){var i=t.coords.latitude,n=t.coords.longitude,a=L.map("map").setView([i,n],6);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> | Icons by <a href="https://icons8.com/">icons8.com </a>'}).addTo(a),a.attributionControl.setPosition("bottomright"),a.zoomControl.setPosition("topright");var r=L.icon({iconUrl:"resources/location-pin.png",iconSize:[50,50]});function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function o(e){var t=e.target;t.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),t.bringToFront()}function l(e){e.target.setStyle({fillColor:"yellow",weight:5,color:"#666",dashArray:"",fillOpacity:.2,color:"orange"})}function c(e){a.fitBounds(e.target.getBounds())}function u(e){var t=e.latlng.toString().split(","),i=t[0].replace("LatLng(",""),n=t[1].replace(")","");$("#lattitude").html(i),$("#longitude").html(n)}L.marker([i,n],{icon:r,draggable:!0,title:"This is my starting Location"}).addTo(a),L.geoJSON(worldCountries,{onEachFeature:function e(t,i){let n=document.createElement("div");n.setAttribute("id","popUpDiv");let r=document.createElement("div");r.setAttribute("id","mainMenuDiv"),r.setAttribute("class","mainMenuDivClass"),n.append(r);let s=document.createElement("div");s.setAttribute("id","mainMenuTextDiv"),s.setAttribute("class","mainMenuTextDivClass"),r.append(s);let d=document.createElement("p");d.setAttribute("id","mainMenuText"),d.innerHTML=`What would you like to know about ${t.properties.name}?`,s.append(d);let p=document.createElement("div");p.setAttribute("id","mainMenuButtonsDiv"),p.setAttribute("class","mainMenuButtonsDivClass"),r.append(p);let v=document.createElement("button");v.setAttribute("id","generalInfoButton"),v.setAttribute("class","mainMenuButtonClass"),v.innerHTML="General Information";let b=document.createElement("button");b.setAttribute("id","weatherInfoButton"),b.setAttribute("class","mainMenuButtonClass"),b.innerHTML="Current Weather";let m=document.createElement("button");m.setAttribute("id","currencyConverterButton"),m.setAttribute("class","mainMenuButtonClass"),m.innerHTML="Currency Converter";let h=document.createElement("button");h.setAttribute("id","wikiInfoButton"),h.setAttribute("class","mainMenuButtonClass"),h.innerHTML="Wiki Information";let f=document.createElement("button");f.setAttribute("id","mainQuitButton"),f.setAttribute("class","mainMenuButtonClass"),f.innerHTML="Quit",p.append(v),p.append(b),p.append(m),p.append(h),p.append(f),i.on({mouseover:o,mouseout:l,click:c,click:u}).bindPopup(n),v.onclick=function(){$.ajax({url:"php/restCountries.php",type:"POST",dataType:"json",data:{cca3:t.properties.iso_a3},success:function(e){if("ok"==e.status.name){if($("#mainMenuDiv").hide(),document.getElementById("generalInfoMenuDiv"))$("#generalInfoMenuDiv").show();else{let i=document.createElement("div");i.setAttribute("id","generalInfoMenuDiv");let r=document.createElement("div");r.setAttribute("id","generalInfoTextDiv"),r.setAttribute("class","generalInfoTextDivClass"),i.append(r);let s=document.createElement("h2");s.setAttribute("id","generalInfoTextHeading"),s.innerHTML="Welcome to General Information Section",r.append(s);let o=document.createElement("p");o.setAttribute("id","generalInfoText"),o.innerHTML="What would you like to know specifically?",r.appendChild(o);let l=document.createElement("div");l.setAttribute("id","generalInfoButtonsDiv"),l.setAttribute("class","generalInfoButtonsDivClass"),i.append(l);let c=document.createElement("button");c.setAttribute("id","countryNameButton"),c.setAttribute("class","generalInfoButtonClass"),c.innerHTML="Country Names",l.appendChild(c);let u=document.createElement("button");u.setAttribute("id","currencyButton"),u.setAttribute("class","generalInfoButtonClass"),u.innerHTML="Official Currency",l.appendChild(u);let d=document.createElement("button");d.setAttribute("id","capitalCityButton"),d.setAttribute("class","generalInfoButtonClass"),d.innerHTML="Capital City",l.appendChild(d);let p=document.createElement("button");p.setAttribute("id","regionButton"),p.setAttribute("class","generalInfoButtonClass"),p.innerHTML="Location",l.appendChild(p);let v=document.createElement("button");v.setAttribute("id","languagesButton"),v.setAttribute("class","generalInfoButtonClass"),v.innerHTML="Official Languages",l.appendChild(v);let b=document.createElement("button");b.setAttribute("id","populationButton"),b.setAttribute("class","generalInfoButtonClass"),b.innerHTML="Population",l.appendChild(b);let m=document.createElement("button");m.setAttribute("id","interestingStuffButton"),m.setAttribute("class","generalInfoButtonClass"),m.innerHTML="Interesting Stuff",l.appendChild(m);let h=document.createElement("button");h.setAttribute("id","timeZonesButton"),h.setAttribute("class","generalInfoButtonClass"),h.innerHTML="Time Zones",l.appendChild(h);let f=document.createElement("button");f.setAttribute("id","flagsButton"),f.setAttribute("class","generalInfoButtonClass"),f.innerHTML="Flag",l.appendChild(f);let g=document.createElement("button");g.setAttribute("id","neighboursButton"),g.setAttribute("class","generalInfoButtonClass"),g.innerHTML="Neighbours",l.appendChild(g);let D=document.createElement("div");D.setAttribute("id","mainMenuBackButtonDiv"),D.setAttribute("class","mainMenuBackButtonDivClass"),i.append(D);let A=document.createElement("button");A.setAttribute("id","mainMenuBackButton"),A.setAttribute("class","mainMenuBackButtonClass"),A.innerHTML="Back",D.append(A),n.append(i)}countryNameButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("countryNameDiv"))$("#countryNameDiv").show();else{let i=document.createElement("div");i.setAttribute("id","countryNameDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);var n=Object.keys(e.name.nativeName);let a=document.createElement("div");for(a.setAttribute("id","countryNameDivTextPartDiv"),i.append(a),$("#countryNameDivTextPartDiv").append("<p>The english name is: <b>"+e.name.common+"</b></p>"),$("#countryNameDivTextPartDiv").append("<p>The official english name is: <b>"+e.name.official+"</b></p>"),n.length>1&&$("#countryNameDivTextPartDiv").append(`<p><b>${t.properties.name}, however, has more than one official name. These names are: </b></p>`),index=0;index<n.length;index++){var r=n[index];$("#countryNameDivTextPartDiv").append("<p>The native offical name is: <b>"+e.name.nativeName[r].official+"</b></p>"),$("#countryNameDivTextPartDiv").append("<p>The native name is: <b>"+e.name.nativeName[r].common+"</b></p>"),$("#countryNameDivTextPartDiv").append("<hr><hr>")}let s=document.createElement("div");s.setAttribute("id","countryNameBackButtonDiv"),s.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(s);let o=document.createElement("button");o.setAttribute("id","countryNameBackButton"),o.setAttribute("class","generalInfoSubDivBackButton"),o.innerHTML="Back",s.append(o)}countryNameBackButton.onclick=function(){$("#countryNameDiv").hide(),$("#generalInfoMenuDiv").show()}},currencyButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("currencyDiv"))$("#currencyDiv").show();else{let i=document.createElement("div");i.setAttribute("id","currencyDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","currencyTextDiv"),n.setAttribute("class","currencyTextDivClass"),i.append(n);var a=Object.keys(e.currency)[0];$("#currencyTextDiv").append(`<p>The official currency of ${t.properties.name} is: <b>${e.currency[a].name}</b></p>`),$("#currencyTextDiv").append(`<p>The official symbol of ${e.currency[a].name} is: <b>${e.currency[a].symbol}</b></p>`);let r=document.createElement("div");r.setAttribute("id","exchangeRateBackButtonDiv"),i.append(r);let s=document.createElement("button");s.setAttribute("id","exchangeRateBackButton"),s.setAttribute("class","specialButtonClass"),s.innerHTML="Latest Currency Exchange Rate",i.append(s);let o=document.createElement("div");o.setAttribute("id","currencyBackButtonDiv"),o.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(o);let l=document.createElement("button");l.setAttribute("id","currencyBackButton"),l.setAttribute("class","generalInfoSubDivBackButton"),l.innerHTML="Back",o.append(l)}exchangeRateBackButton.onclick=function(){if($("#currencyDiv").hide(),document.getElementById("exchangeRateDiv"))$("#exchangeRateDiv").show();else{var t;let i=document.createElement("div");i.setAttribute("id","exchangeRateDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","currencyHeadingDiv"),i.append(n);let r=document.createElement("p");r.setAttribute("id","currencyHeadingText"),r.innerHTML=`Please pick a currency below to see the latest conversion rate for ${e.currency[a].name}`,n.append(r);let s=document.createElement("div");s.setAttribute("id","exchangeRateFormDiv"),i.append(s);let o=document.createElement("form");o.setAttribute("id","exchangeRateForm"),s.append(o),$("<input/>").attr({type:"text",id:"exchangeRateFormInput",name:"exchangeRateFormInput",list:"currencyList",placeholder:"Pick a Currency...",required:"true"}).appendTo("#exchangeRateForm");let l=document.createElement("datalist");l.setAttribute("id","currencyList"),o.append(l);let c=document.createElement("button");c.setAttribute("type","submit"),c.setAttribute("id","currencySubmitButton"),c.setAttribute("title","Currency Submit Button"),c.innerHTML="Submit",o.append(c),$.get("https://openexchangerates.org/api/currencies.json",function(e){for(var i in e)$("#currencyList").append("<option id= "+i+" value="+i+">"+e[i]+"</option>");t=e});let u=document.createElement("div");u.setAttribute("id","currentExchangeRateDiv"),i.append(u);let d=document.createElement("p");d.setAttribute("id","currentExchangeRateText"),u.append(d);let p=document.createElement("p");p.setAttribute("id","currentExchangeRateTextSpan"),u.append(p);let v=document.createElement("div");v.setAttribute("id","exchangeRateBackButtonDiv"),v.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(v);let b=document.createElement("button");b.setAttribute("id","exchangeRateBackButton"),b.setAttribute("class","generalInfoSubDivBackButton"),b.innerHTML="Back",v.append(b),$("#exchangeRateForm").submit(function(i){i.preventDefault();var n=Object.keys(e.currency),a=$("#exchangeRateFormInput").val().toLowerCase();let r=[],s=[];for(let c=0;c<l.options.length;c++)r.push(l.options[c].value.toLowerCase()),s.push(l.options[c].text.toLowerCase());if(r.includes(a)||s.includes(a)){let u;if(a.length>3){let v;Object.keys(t).forEach(function(e){(v=t[e].toLowerCase())===a&&(u=e)})}else u=a.toUpperCase();$.get("https://openexchangerates.org/api/latest.json",{app_id:"eabcbd09dc734c58a70111751571a26d"},function(e){let i=e.rates[n],a=e.rates[u],r=(a/i).toFixed(4),s=e.timestamp;var o=new Date(1e3*s);let l=o.toLocaleDateString("en-GB"),c=o.toLocaleTimeString("it-IT");d.innerHTML=`The current exchange rate of ${t[n]} is ${r} ${t[u]}.`,p.innerHTML=`The conversion reate is valid from ${l+" at "+c}`})}else alert("Please enter Valid Currency"),o.reset()}),b.onclick=function(){$("#exchangeRateDiv").hide(),$("#currencyDiv").show()}}},currencyBackButton.onclick=function(){$("#currencyDiv").hide(),$("#generalInfoMenuDiv").show()}},capitalCityButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("capitalCityDiv"))$("#capitalCityDiv").show();else{let i=document.createElement("div");i.setAttribute("id","capitalCityDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","capitalCityTextDiv"),i.append(n),$("#capitalCityTextDiv").append(`<p><h5>The Capital city of ${t.properties.name} is: <b>${e.capital}</b></h5></p>`),$("#capitalCityTextDiv").append(`<p><h5>It's coordinates are as follows:</h5><b>Latitude: ${e.capitalLatLng[0]}\xb0</b><br><b>Longitude: ${e.capitalLatLng[1]}\xb0</b><br><br>You may also see the location of the capital pin-pointed on your map!</p>`);var r={icon:L.icon({iconUrl:"resources/capital-marker.png",iconSize:[50,50]}),draggable:!0,title:`This is ${e.capital}, the capital of ${t.properties.name}`};L.marker([e.capitalLatLng[0],e.capitalLatLng[1]],r).addTo(a);let s=document.createElement("div");s.setAttribute("id","capitalCityBackButtonDiv"),s.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(s);let o=document.createElement("button");o.setAttribute("id","capitalCityBackButton"),o.setAttribute("class","generalInfoSubDivBackButton"),o.innerHTML="Back",s.append(o)}capitalCityBackButton.onclick=function(){$("#capitalCityDiv").hide(),$("#generalInfoMenuDiv").show()}},regionButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("regionDiv"))$("#regionDiv").show();else{let i=document.createElement("div");i.setAttribute("id","regionDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","regionTextDiv"),i.append(n),$("#regionTextDiv").append(`<p><b>${t.properties.name}</b> is located in <b><i>${e.region}</i></b>, <br><br>more specifically in <b><i>${e.subregion}</i></b></p>`);let a=document.createElement("div");a.setAttribute("id","regionBackButtonDiv"),a.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(a);let r=document.createElement("button");r.setAttribute("id","regionBackButton"),r.setAttribute("class","generalInfoSubDivBackButton"),r.innerHTML="Back",a.append(r)}regionBackButton.onclick=function(){$("#regionDiv").hide(),$("#generalInfoMenuDiv").show()}},languagesButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("languagesDiv"))$("#languagesDiv").show();else{let i=document.createElement("div");i.setAttribute("id","languagesDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","languagesTextDiv"),i.append(n);let a=Object.keys(e.languages);for($("#languagesTextDiv").append(`<p><h5>People in ${t.properties.name} speaks these languages:<br></h5></p>`),index=0;index<a.length;index++){let r=a[index];$("#languagesTextDiv").append(`<p><b><i><h5>- ${e.languages[r]}</h5></i></b></p>`)}let s=document.createElement("div");s.setAttribute("id","languagesBackButtonDiv"),s.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(s);let o=document.createElement("button");o.setAttribute("id","languagesBackButton"),o.setAttribute("class","generalInfoSubDivBackButton"),o.innerHTML="Back",s.append(o)}languagesBackButton.onclick=function(){$("#languagesDiv").hide(),$("#generalInfoMenuDiv").show()}},populationButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("populationDiv"))$("#populationDiv").show();else{let i=document.createElement("div");i.setAttribute("id","populationDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","populationTextDiv"),i.append(n);let a=function e(t){let i=t.toString(),n=i.length,a=n-1,r="";for(let s=0;s<n;s++)r+=i[s],a%3==0&&0!=a&&(r+=","),a-=1;return r}(e.population);$("#populationTextDiv").append(`<p><h5>The population(according to the latest data) of <b>${t.properties.name}</b> is:<br><br><br> </h5><h3><b>${a} inhabitants</b></h3></p>`);let r=document.createElement("div");r.setAttribute("id","populationBackButtonDiv"),r.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(r);let s=document.createElement("button");s.setAttribute("id","populationBackButton"),s.setAttribute("class","generalInfoSubDivBackButton"),s.innerHTML="Back",r.append(s)}populationBackButton.onclick=function(){$("#populationDiv").hide(),$("#generalInfoMenuDiv").show()}},interestingStuffButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("interestingStuffDiv"))$("#interestingStuffDiv").show();else{let i=document.createElement("div");i.setAttribute("id","interestingStuffDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","interestingStuffTextDiv"),i.append(n);let a=Object.keys(e.drivingSide),r=a[1],s=a[0];$("#interestingStuffTextDiv").append(`<p><h5>In <b>${t.properties.name}</b>, people are driving on <b>${e.drivingSide[r]} hand side</b> and use vehicle registration plates starting with <b>${e.drivingSide[s]}</b><br><br>It is also worth noting that the week in ${t.properties.name} starts on <b>${e.startOfWeek}.</b></h5></p>`);let o=document.createElement("div");o.setAttribute("id","interestingStuffBackButtonDiv"),o.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(o);let l=document.createElement("button");l.setAttribute("id","interestingStuffBackButton"),l.setAttribute("class","generalInfoSubDivBackButton"),l.innerHTML="Back",o.append(l)}interestingStuffBackButton.onclick=function(){$("#interestingStuffDiv").hide(),$("#generalInfoMenuDiv").show()}},timeZonesButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("timeZonesDiv"))$("#timeZonesDiv").show();else{let i=document.createElement("div");i.setAttribute("id","timeZonesDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");for(n.setAttribute("id","timeZonesTextDiv"),i.append(n),$("#timeZonesTextDiv").append(`<p><h4><b>${t.properties.name} has these time zones: </b></h4></p>`),index=0;index<e.timezones.length;index++)$("#timeZonesTextDiv").append(`<p><i><b>--> ${e.timezones[index]}</b></i></p>`);let a=document.createElement("div");a.setAttribute("id","utcInfoButtonDiv"),i.append(a);let r=document.createElement("button");r.setAttribute("id","utcInfoButton"),r.setAttribute("class","specialButtonClass"),r.innerHTML="What is UTC?",a.append(r);let s=document.createElement("div");s.setAttribute("id","timeZonesBackButtonDiv"),s.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(s);let o=document.createElement("button");o.setAttribute("id","timeZonesBackButton"),o.setAttribute("class","generalInfoSubDivBackButton"),o.innerHTML="Back",s.append(o)}utcInfoButton.onclick=function(){if($("#timeZonesDiv").hide(),document.getElementById("utcInfoDiv"))$("#utcInfoDiv").show();else{let e=document.createElement("div");e.setAttribute("id","utcInfoDiv"),e.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(e);let t=document.createElement("h2");t.setAttribute("id","utcInfoHeading"),t.innerHTML="What is UFC?",e.append(t);let i=document.createElement("p");i.setAttribute("id","utcInfoText"),i.setAttribute("class","utcInfoTextClass"),i.innerHTML=`Coordinated Universal Time or UTC is the primary time standard by which the world regulates clocks and time. It is within about one second of mean solar time (such as UT1) at 0\xb0 longitude (at the IERS Reference Meridian as the currently used prime meridian) and is not adjusted for daylight saving time. It is effectively a successor to Greenwich Mean Time (GMT).<br>Time zones around the world are expressed using positive or negative offsets from UTC, as in the list of time zones by UTC offset.`,e.append(i);let n=document.createElement("div");n.setAttribute("id","utcBackButtonDiv"),n.setAttribute("class","generalInfoSubDivBackButtonDiv"),e.append(n);let a=document.createElement("button");a.setAttribute("id","utcBackButton"),a.setAttribute("class","generalInfoSubDivBackButton"),a.innerHTML="Back",n.append(a)}utcBackButton.onclick=function(){$("#utcInfoDiv").hide(),$("#timeZonesDiv").show()}},timeZonesBackButton.onclick=function(){$("#timeZonesDiv").hide(),$("#generalInfoMenuDiv").show()}},flagsButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("flagsDiv"))$("#flagsDiv").show();else{let i=document.createElement("div");i.setAttribute("id","flagsDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");n.setAttribute("id","flagTextDiv"),i.append(n),e.flags.alt&&$("#flagTextDiv").append(`<p><h2><b>Flag Description:</b><h2><br><h5>${e.flags.alt}</h5><br><br></p>`);let a=document.createElement("div");a.setAttribute("id","flagContainer"),a.setAttribute("class","flagContainerClass"),i.append(a);let r=document.createElement("div");r.setAttribute("id","flagPictureDiv"),r.setAttribute("class","flagPictureDivClass"),a.append(r);let s=document.createElement("div");s.setAttribute("id","flagPictureNameDiv"),r.append(s),$("#flagPictureNameDiv").append(`<h4><b>The flag of ${t.properties.name}:</b><br></h4>`);let o=document.createElement("div");o.setAttribute("id","flagPictureImgDiv"),r.append(o),$("#flagPictureImgDiv").append(`<img src=${e.flags.png} alt=${t.properties.name} width="300vw" height="150vh"><br><br>`);let l=document.createElement("div");l.setAttribute("id","coatOfArmsDiv"),a.append(l);let c=document.createElement("div");c.setAttribute("id","coatOfArmsNameDiv"),l.append(c),$("#coatOfArmsNameDiv").append(`<h4><b>The coat of arms of ${t.properties.name}:</b><br></h4>`);let u=document.createElement("div");u.setAttribute("id","coatOfArmsImgDiv"),l.append(u),$("#coatOfArmsImgDiv").append(`<img src=${e.coatOfArms.png} alt=${t.properties.name} width="150vw" height="150vh"><br><br>`);let d=document.createElement("div");d.setAttribute("id","flagsBackButtonDiv"),d.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(d);let p=document.createElement("button");p.setAttribute("id","flagsBackButton"),p.setAttribute("class","generalInfoSubDivBackButton"),p.innerHTML="Back",d.append(p)}flagsBackButton.onclick=function(){$("#flagsDiv").hide(),$("#generalInfoMenuDiv").show()}},neighboursButton.onclick=function(){if($("#generalInfoMenuDiv").hide(),document.getElementById("neighboursDiv"))$("#neighboursDiv").show();else{let i=document.createElement("div");i.setAttribute("id","neighboursDiv"),i.setAttribute("class","generalInfoSubDiv"),$("#popUpDiv").append(i);let n=document.createElement("div");if(n.setAttribute("id","neighboursTextDiv"),i.append(n),e.borders){$("#neighboursTextDiv").append(`<p><h5><b>${t.properties.name}</b> neighbours with these countries:</h5><br></p>`);for(let a=0;a<e.borders.length;a++){let r=e.borders[a],s=$("#countryList option[value="+r+"]").text();$("#neighboursTextDiv").append(`<p><b> - ${r} - ${s}</b></p>`)}}else $("#neighboursTextDiv").append(`<p><h5>Well, It seems that <b>${t.properties.name}</b> has no neighbors as it is Island country</h5></p>`);let o=document.createElement("div");o.setAttribute("id","neighboursBackButtonDiv"),o.setAttribute("class","generalInfoSubDivBackButtonDiv"),i.append(o);let l=document.createElement("button");l.setAttribute("id","neighboursBackButton"),l.setAttribute("class","generalInfoSubDivBackButton"),l.innerHTML="Back",o.append(l)}neighboursBackButton.onclick=function(){$("#neighboursDiv").hide(),$("#generalInfoMenuDiv").show()}},mainMenuBackButton.onclick=function(){$("#generalInfoMenuDiv").hide(),$("#mainMenuDiv").show()}}},error:function(e,t,i){console.log("The data have not been sent")}})},b.onclick=function(){let e=parseFloat(document.getElementById("lattitude").innerHTML),t=parseFloat(document.getElementById("longitude").innerHTML);function i(e){var t=new Date(e);let i=t.toLocaleDateString("en-GB");i.replace("/","-");let n=t.toLocaleTimeString("it-IT");return i+" "+n}$.ajax({url:"php/openWeatherApi.php",type:"POST",dataType:"json",data:{lat:e,lon:t},success:function(e){if("ok"==e.status.name){if($("#mainMenuDiv").hide(),document.getElementById("forecastOverviewDiv"))$("#forecastOverviewDiv").show();else{var t;let i=document.createElement("div");i.setAttribute("id","forecastOverviewDiv"),i.setAttribute("class","forecastOverviewDivClass"),n.append(i);let a=document.createElement("div");a.setAttribute("id","forecastOverviewHeadingDiv"),a.setAttribute("class","forecastOverviewHeadingDivClass"),i.append(a);let r=document.createElement("h2");r.setAttribute("id","forecastOverviewHeadingText"),r.innerHTML="<b>Welcome to 5-Days Forecast Overview.</b>",a.append(r);let s=document.createElement("p");s.setAttribute("id","forecastOverviewHeadingTextSpan"),s.innerHTML="For more specific Info please pick a corresponding day",a.append(s);let o=document.createElement("div");o.setAttribute("id","forecastDiv"),o.setAttribute("class","forecastDivClass"),i.append(o);let l=document.createElement("h3");l.setAttribute("id","overviewTempSwitchHeading"),l.innerHTML="<b>Pick your prefered Temperature Unit</b>",i.append(l);let c=document.createElement("div");c.setAttribute("id","overviewTempSwitchDiv"),c.setAttribute("class","overviewTempSwitchDivClass"),i.append(c);let u=document.createElement("button");u.setAttribute("id","overviewTempCelsiusButton"),u.setAttribute("class","overviewTempButtonClass"),u.innerHTML="\xb0C",c.append(u);let d=document.createElement("button");d.setAttribute("id","overviewTempFahrenheitButton"),d.setAttribute("class","overviewTempButtonClass"),d.innerHTML="\xb0F",c.append(d);let p=document.createElement("div");p.setAttribute("id","forecastMainMenuBackButtonDiv"),p.setAttribute("class","forecastMainMenuBackButtonDivClass"),i.append(p);let v=document.createElement("button");v.setAttribute("id","forecastMainMenuBackButton"),v.setAttribute("class","mainMenuBackButtonClass"),v.setAttribute("title","To Main Menu"),v.innerHTML="Back",p.append(v);let b=document.createElement("button");function m(t,i,n){let a=document.getElementById(i),r=document.createElement("div");r.setAttribute("id","forecastDayUpperPartDiv"),r.setAttribute("class","forecastDayUpperPartDivClass"),a.append(r);let s=document.createElement("div");s.setAttribute("id","weatherDescriptionDiv"),s.setAttribute("class","weatherDescriptionDivClass"),r.append(s);let o=document.createElement("div");o.setAttribute("id","generalWeatherInfoDiv"),o.setAttribute("class","generalWeatherInfoDivClass"),r.append(o);let l=document.createElement("div");l.setAttribute("id",`fullWeatherInfo${i}`),l.setAttribute("class","fullWeatherInfoDay"),a.append(l),g(t,i,"Temperature","Celsius");let c=e.list[t].dt_txt,u=c.slice(0,4),d=c.slice(5,7),p=c.slice(8,10),v=c.slice(11,19),b=e.list[t].weather[0].main,m=e.list[t].weather[0].description,h=document.createElement("p");h.setAttribute("id","weatherDescriptionText"),h.innerHTML=`<p><h3><b>${n}</b></h3><br>Location: <b>${e.city.name}</b><br>Date: <b>${p}/${d}/${u}</b><br>Time of measurment: <b>${v}</b><br>Weather condition: <b>${b}</b><br>More specifiaclly: <b>${m}</b></p>`,s.append(h);let f=document.createElement("div");f.setAttribute("id","forecastDayHeaderDiv"),f.setAttribute("class","forecastDayHeaderDivClass"),o.append(f);let D=document.createElement("img");D.setAttribute("id","weatherIconImage"),D.setAttribute("src",`https://openweathermap.org/img/wn/${e.list[t].weather[0].icon}@2x.png`),f.append(D);let A=document.createElement("div");A.setAttribute("id","tempSwitchDiv"),A.setAttribute("class","tempSwitchDivClass"),f.append(A);let y=document.createElement("div");y.setAttribute("id","weatherButtonsDiv"),y.setAttribute("class","weatherButtonsDivClass"),f.append(y);let T=document.createElement("div");T.setAttribute("id","precipitationDiv"),T.setAttribute("class","precipitationDivClass"),o.append(T);let E=document.createElement("p");E.setAttribute("id","additionalWeatherInfoText");let C=Math.round(100*e.list[0].pop),k=e.list[t].main.humidity,I=e.list[t].wind.speed;E.innerHTML=`<p>Probability of Precipitation: <b>${C}%</b><br>Humidity: <b>${k}%</b></br>Wind Speed: <b>${I} metre/sec</b></p>`,o.append(E);let w=document.createElement("div");w.setAttribute("id","tempWindPrecButtonsDiv"),w.setAttribute("class","tempWindPrecButtonsDivClass"),o.append(w);let M=document.createElement("button");M.setAttribute("id","temperatureButton"),M.innerHTML="Temperature",w.append(M);let x=document.createElement("button");x.setAttribute("id","precipitationButton"),x.innerHTML="Precipation",w.append(x);let H=document.createElement("button");H.setAttribute("id","windButton"),H.innerHTML="Wind",w.append(H);let S=Math.round(e.list[t].main.temp-273.15);e.list[t].main.feels_like;let N=document.createElement("p");N.setAttribute("id","temperature"),N.innerHTML=`${S}`,A.append(N);let _="Celsius",F=document.createElement("button");F.setAttribute("id","celsiusTempButton"),F.style.color="black",F.innerHTML="\xb0C",y.append(F);let P=document.createElement("button");P.setAttribute("id","fahrenheitTempButton"),P.innerHTML="\xb0F",y.append(P),P.onclick=function(){F.style.color="#F8F8FF",P.style.color="black",N.innerHTML=`${Math.round(1.8*S+32)}`,_="Fahrenheit",g(t,i,"Temperature","Fahrenheit")},F.onclick=function(){F.style.color="black",P.style.color="#F8F8FF",N.innerHTML=`${S}`,_="Celsius",g(t,i,"Temperature","Celsius")},x.onclick=function(){g(t,i,"Precipitation","None")},H.onclick=function(){g(t,i,"WindInfo","None")},M.onclick=function(){"Celsius"===_?g(t,i,"Temperature","Celsius"):"Fahrenheit"===_&&g(t,i,"Temperature","Fahrenheit")};let O=document.createElement("button");O.setAttribute("id",`${i}BackButton`),O.setAttribute("class","forecastDayBackButtonClass"),O.innerHTML="<b>Back</b>",a.append(O);let W=B.slice(11,19);parseInt(W.slice(0,2))}function h(e){let t={},i=e[0],n=1;for(let a=0;a<e.length;a++){let r=e[a];t[r]?t[r]++:t[r]=1,t[r]>n&&(i=r,n=t[r])}return i}function f(e){return Math.round((Math.max(...e)+Math.min(...e))/2-273.15)}function g(t,i,n,a){let r=t+8;for($(`#fullWeatherInfo${i}`).empty();t<r;){let s=document.createElement("div");s.setAttribute("id",`weatherWidgetDiv${t}`),s.setAttribute("class","weatherWidgetDivClass");let o=Math.round(e.list[t].main.temp-273.15),l=Math.round(1.8*o+32),c=Math.round(100*e.list[t].pop),u=e.list[t].wind.speed,d=e.list[t].wind.deg,p=e.list[t].dt_txt.slice(11,16),v=e.list[t].weather[0].icon;"Temperature"===n&&"Celsius"===a?s.innerHTML=`<b>${o}\xb0C</b><img src='https://openweathermap.org/img/wn/${v}@2x.png'><b>${p}</b>`:"Temperature"===n&&"Fahrenheit"===a?s.innerHTML=`<b>${l}\xb0F</b><img src='https://openweathermap.org/img/wn/${v}@2x.png'><b>${p}</b>`:"Precipitation"===n&&"None"===a?s.innerHTML=`<b>${c}%</b><img src='https://openweathermap.org/img/wn/${v}@2x.png'><b>${p}</b>`:"WindInfo"===n&&"None"===a&&(s.innerHTML=`<b>${u} m/s</b><br><b>${d}\xb0</b><img src='https://openweathermap.org/img/wn/${v}@2x.png'><b>${p}</b>`),$(`#fullWeatherInfo${i}`).append(s),t++}}function D(t){let i=0,n=parseInt(e.list[i].dt_txt.slice(11,13));if(0===n)i=0;else for(;0!=n;)n-=3,i++;return i}b.setAttribute("id","forecastQuitButton"),b.setAttribute("class","mainMenuBackButtonClass"),b.setAttribute("title","Quit current view to check different location"),b.innerHTML="Quit",p.append(b),v.onclick=function(){$("#forecastOverviewDiv").hide(),$("#mainMenuDiv").show()},b.onclick=function(){$("#popUpDiv").children().each(function(){"mainMenuDiv"!==$(this).attr("id")&&$(this).remove()}),$("#mainMenuDiv").show()};let A=new Date,y=A.getTime(),B=function e(t){var i=new Date(t);let n=i.toLocaleDateString("en-US"),a=i.toLocaleTimeString("it-IT");return n+" "+a}(y),T=B.slice(0,10),E=B.slice(10,18),C=(t=T,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",][new Date(t).getDay()]),k=function e(t){var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",],n=[];let a=i.findIndex(e=>e===t);for(let r=0;r<5;r++)a===i.length&&(a=0),n.push(i[a]),a++;return n}(C);(function t(i){for(let n=0;n<i.length;n++){let a=document.createElement("div");a.setAttribute("id",`dailyForecastThumbDivDay${n+1}`),a.setAttribute("class","dailyForecastThumbDivClass"),$("#forecastDiv").append(a);let r=document.createElement("div");r.setAttribute("id","thumbWeatherInfoDiv"),r.setAttribute("class","thumbWeatherDivClass"),a.append(r);let s=document.createElement("div");s.setAttribute("id","dayPartDiv"),s.setAttribute("class","dayPartDivClass"),r.append(s);let o=document.createElement("div");o.setAttribute("id","nightPartDiv"),o.setAttribute("class","nightPartDivClass"),r.append(o);let l=parseInt(E.slice(0,2)),c=D(l),u=[],d=[],p=[],v=[],b;b=0===n?0:8*n+1-c,e.list[b].dt_txt.slice(8,10),e.list[b].dt_txt.slice(5,7),e.list[b].dt_txt.slice(0,4);let m=b+8;for(;b<m;b++)"d"===e.list[b].sys.pod?(p.push(e.list[b].main.temp),u.push(e.list[b].weather[0].icon)):(v.push(e.list[b].main.temp),d.push(e.list[b].weather[0].icon));let f=h(u),g=h(d),A=document.createElement("img");A.setAttribute("id","dayThumbImg"),A.setAttribute("src",`https://openweathermap.org/img/wn/${f}@2x.png`),A.setAttribute("class","thumbImgClass"),s.append(A);let y=document.createElement("img");y.setAttribute("id","nightThumbImg"),y.setAttribute("src",`https://openweathermap.org/img/wn/${g}@2x.png`),y.setAttribute("class","thumbImgClass"),o.append(y);let B=Math.max(...p),T=Math.round(B-273.15),C=Math.min(...v),k=Math.round(C-273.15),I=document.createElement("div");I.setAttribute("id","dayTempDiv"),s.append(I);let w=document.createElement("div");w.setAttribute("id","dayTempHeadingDiv"),I.append(w);let M=document.createElement("h4");M.setAttribute("id","dayTempHeadingText"),M.innerHTML="Day",w.append(M);let x=document.createElement("div");x.setAttribute("id","maxDayTempValueDiv"),I.append(x);let H=document.createElement("h4");H.setAttribute("id","maxDayTempValue"),H.innerHTML=`${T}\xb0C`,x.append(H);let S=document.createElement("div");S.setAttribute("id","nightTempDiv"),o.append(S);let N=document.createElement("div");N.setAttribute("id","nightTempHeadingDiv"),S.append(N);let _=document.createElement("h4");_.setAttribute("id","nightTempHeadingText"),_.innerHTML="Night",N.append(_);let F=document.createElement("div");F.setAttribute("id","minNightTempValueDiv"),S.append(F);let P=document.createElement("h4");P.setAttribute("id","minNightTempValue"),P.innerHTML=`${k}\xb0C`,F.append(P);let O=document.createElement("button");O.setAttribute("id",`${i[n]}`),O.setAttribute("class","dayButtonClass"),O.innerHTML=`<b>${i[n]}</b>`,a.append(O)}})(k),u.onclick=function(){$("#forecastDiv > div").each(function(){let e=this.childNodes[0].childNodes[0].childNodes[1].childNodes[1].childNodes[0].innerHTML,t=this.childNodes[0].childNodes[1].childNodes[1].childNodes[1].childNodes[0].innerHTML;if(!(e.includes("\xb0C")&&t.includes("\xb0C"))){e=parseInt(e.slice(0,-2)),t=parseInt(nightTempValueString=t.slice(0,-2));let i=(e-32)*(5/9);i=Math.round(i);let n=(t-32)*(5/9);n=Math.round(n),this.childNodes[0].childNodes[0].childNodes[1].childNodes[1].childNodes[0].innerHTML=`${i}\xb0C`,this.childNodes[0].childNodes[1].childNodes[1].childNodes[1].childNodes[0].innerHTML=`${n}\xb0C`}})},d.onclick=function(){$("#forecastDiv > div").each(function(){let e=this.childNodes[0].childNodes[0].childNodes[1].childNodes[1].childNodes[0].innerHTML,t=this.childNodes[0].childNodes[1].childNodes[1].childNodes[1].childNodes[0].innerHTML;if(!(e.includes("\xb0F")&&t.includes("\xb0F"))){e=parseInt(dayTempValueString=e.slice(0,-2));t=parseInt(t.slice(0,-2));let i=Math.round(1.8*e+32),n=Math.round(1.8*t+32);this.childNodes[0].childNodes[0].childNodes[1].childNodes[1].childNodes[0].innerHTML=`${i}\xb0F`,this.childNodes[0].childNodes[1].childNodes[1].childNodes[1].childNodes[0].innerHTML=`${n}\xb0F`}})};let I=k[0],w=k[1],M=k[2],x=k[3],H=k[4],S=document.getElementById(I);S.onclick=function(){if($("#forecastOverviewDiv").hide(),document.getElementById("firstDayDiv"))$("#firstDayDiv").show();else{let e=document.createElement("div");e.setAttribute("id","firstDayDiv"),e.setAttribute("class","firstDayDivClass"),n.append(e),m(0,"firstDayDiv",I)}firstDayDivBackButton.onclick=function(){$("#firstDayDiv").hide(),$("#forecastOverviewDiv").show()}};let N=document.getElementById(w);N.onclick=function(){if($("#forecastOverviewDiv").hide(),document.getElementById("secondDayDiv"))$("#secondDayDiv").show();else{let e=parseInt(E.slice(0,2)),t=D(e),i=document.createElement("div");i.setAttribute("id","secondDayDiv"),i.setAttribute("class","secondDayDivClass"),n.append(i),m(9-t,"secondDayDiv",w)}secondDayDivBackButton.onclick=function(){$("#secondDayDiv").hide(),$("#forecastOverviewDiv").show()}};let _=document.getElementById(M);_.onclick=function(){if($("#forecastOverviewDiv").hide(),document.getElementById("thirdDayDiv"))$("#thirdDayDiv").show();else{let e=parseInt(E.slice(0,2)),t=D(e),i=document.createElement("div");i.setAttribute("id","thirdDayDiv"),i.setAttribute("class","thirdDayDivClass"),n.append(i),m(17-t,"thirdDayDiv",M)}thirdDayDivBackButton.onclick=function(){$("#thirdDayDiv").hide(),$("#forecastOverviewDiv").show()}};let F=document.getElementById(x);F.onclick=function(){if($("#forecastOverviewDiv").hide(),document.getElementById("fourthDayDiv"))$("#fourthDayDiv").show();else{let e=parseInt(E.slice(0,2)),t=D(e),i=document.createElement("div");i.setAttribute("id","fourthDayDiv"),i.setAttribute("class","fourthDayDivClass"),n.append(i),m(25-t,"fourthDayDiv",x)}fourthDayDivBackButton.onclick=function(){$("#fourthDayDiv").hide(),$("#forecastOverviewDiv").show()}};let P=document.getElementById(H);P.onclick=function(){if($("#forecastOverviewDiv").hide(),document.getElementById("fifthDayDiv"))$("#fifthDayDiv").show();else{let e=parseInt(E.slice(0,2)),t=D(e),i=document.createElement("div");i.setAttribute("id","fifthDayDiv"),i.setAttribute("class","fifthDayDivClass"),n.append(i),m(33-t,"fifthDayDiv",H)}fifthDayDivBackButton.onclick=function(){$("#fifthDayDiv").hide(),$("#forecastOverviewDiv").show()}}}}},error:function(e,t,i){}})},m.onclick=function(){$.ajax({url:"php/latestExchangeRates.php",type:"GET",dataType:"json",success:function(e){if($("#mainMenuDiv").hide(),document.getElementById("currencyConverterDiv"))$("#currencyConverterDiv").show();else{var t;let i=document.createElement("div");i.setAttribute("id","currencyConverterDiv"),n.append(i);let a=document.createElement("div");a.setAttribute("id","currencyHeadingDiv"),i.append(a);let r=document.createElement("p");r.setAttribute("id","currencyHeadingText"),r.innerHTML="Welcome to Currency Converter Section",a.append(r);let s=document.createElement("span");s.setAttribute("id","currencySpanText"),s.innerHTML="Please pick a currency you want to convert with appropriate amount",a.append(s);let o=document.createElement("div");o.setAttribute("id","currencyConverterFormDiv"),i.append(o);let l=document.createElement("form");l.setAttribute("id","currencyConverterForm"),o.append(l);let c=document.createElement("datalist");c.setAttribute("id","currencyNameList"),l.append(c),$.get("https://openexchangerates.org/api/currencies.json",function(e){for(var i in e)$("#currencyNameList").append("<option id= "+i+" value="+i+">"+e[i]+"</option>");t=e});let u=document.createElement("label");u.setAttribute("for","fromCurrency"),u.setAttribute("class","currencyConverterFormLabelClass"),u.innerHTML="From",l.append(u),$("<input/>").attr({type:"text",id:"fromCurrency",name:"fromCurrency",list:"currencyNameList",placeholder:"Pick a Currency...",class:"currencyConverterFormInputClass",required:"true"}).appendTo("#currencyConverterForm");let d=document.createElement("label");d.setAttribute("for","currencyTo"),d.setAttribute("class","currencyConverterFormLabelClass"),d.innerHTML="To",l.append(d),$("<input/>").attr({type:"text",id:"currencyTo",name:"currencyTo",list:"currencyNameList",placeholder:"Pick a Currency...",class:"currencyConverterFormInputClass",required:"true"}).appendTo("#currencyConverterForm");let p=document.createElement("label");p.setAttribute("for","amount"),p.setAttribute("class","currencyConverterFormLabelClass"),p.innerHTML="Amount",l.append(p),$("<input/>").attr({type:"number",id:"amount",name:"amount",class:"currencyConverterFormInputClass",required:"true"}).appendTo("#currencyConverterForm");let v=document.createElement("button");v.setAttribute("id","currencyConverterFormSubmitButton"),v.setAttribute("type","submit"),v.setAttribute("title","currencyConverterFormSubmitButton"),v.innerHTML="Submit",l.append(v);let b=document.createElement("div");b.setAttribute("id","convertedCurrencyInfoDiv"),i.append(b),$("#convertedCurrencyInfoDiv").hide();let m=document.createElement("p");m.setAttribute("id","convertedCurrencyInfoText"),b.append(m);let h=document.createElement("p");h.setAttribute("id","convertedCurrencyInfoTextSpan"),b.append(h),$("#currencyConverterForm").submit(function(i){i.preventDefault();let n=$("#fromCurrency").val(),a=$("#currencyTo").val(),r=n.toLowerCase(),s=a.toLowerCase(),o=$("#amount").val(),c=parseFloat(o),u=e.timestamp,d=[],p=[];var v=document.getElementById("currencyNameList");for(let b=0;b<v.options.length;b++)d.push(v.options[b].value.toLowerCase()),p.push(v.options[b].text.toLowerCase());if(d.includes(r)||p.includes(r)){if(d.includes(s)||p.includes(s)){if(o>=0){let f,g;if(r.length>3){let D;Object.keys(t).forEach(function(e){(D=t[e].toLowerCase())===r&&(f=e)})}else f=r.toUpperCase();if(s.length>3){let A;Object.keys(t).forEach(function(e){(A=t[e].toLowerCase())===s&&(g=e)})}else g=s.toUpperCase();let y=e.rates[f],B=e.rates[g],T=(o*(B/y)).toFixed(4),E=t[f],C=t[g];var k=new Date(1e3*u);let I=k.toLocaleDateString("en-GB"),w=k.toLocaleTimeString("it-IT");$("#convertedCurrencyInfoDiv").show(),m.innerHTML=`For ${c} ${E}<br><br> you will get<br><br> ${T} ${C}.`,h.innerHTML=`The latest conversion rate is valid from ${I+" at "+w}`}else alert("Please Enter Valid Curency Amount. Not negative number"),l.reset()}else alert("Please Enter Valid Curency Name"),l.reset()}else alert("Please Enter Valid Curency Name"),l.reset()});let f=document.createElement("div");f.setAttribute("id","currencyConverterBackButtonDiv"),f.setAttribute("class","mainMenuBackButtonDivClass"),i.append(f);let g=document.createElement("button");g.setAttribute("id","currencyConverterBackButton"),g.setAttribute("class","mainMenuBackButtonClass"),g.innerHTML="Back",f.append(g),g.onclick=function(){$("#currencyConverterDiv").hide(),$("#mainMenuDiv").show()}}},error:function(e,t,i){console.log("The data from Latest Currency Rates have not been sent")}})},h.onclick=function(){let e=parseFloat($("#lattitude").html()),t=parseFloat($("#longitude").html());$.ajax({url:"php/wikiWebService.php",type:"POST",dataType:"json",data:{lat:e,lng:t},success:function(e){if($("#mainMenuDiv").hide(),document.getElementById("wikiInfoDiv"))$("#wikiInfoDiv").show();else{let t=document.createElement("div");t.setAttribute("id","wikiInfoDiv"),n.append(t);let i=document.createElement("div");i.setAttribute("id","wikiInfoHeadingDiv"),t.append(i);let a=document.createElement("p");a.setAttribute("id","wikiInfoHeadingText"),a.innerHTML="Here you can find our Top Picks that are the closest to location you have picked",i.append(a);let r=document.createElement("div");if(r.setAttribute("id","wikiMainBodyDiv"),t.append(r),0===e.data.length){let s=document.createElement("p");s.setAttribute("id","noArticlesFoundText"),s.innerHTML="Well, It seems that there are no Wiki Articles tied to this exact location. We would recommend choosing another part or country",t.append(s)}else for(let o=0;o<e.data.length;o++){let l=document.createElement("div");l.setAttribute("id",`articleDiv${o}`),l.setAttribute("class","articleDivClass"),r.append(l);let c=document.createElement("h2");c.setAttribute("id",`article${o}Title`),c.setAttribute("class","articleTitleClass"),c.innerHTML=e.data[o].title,l.append(c);let u=document.createElement("p");u.setAttribute("id",`article${o}Summary`),u.setAttribute("class","articleSummaryClass"),u.innerHTML=e.data[o].summary,l.append(u);let d=document.createElement("a");d.setAttribute("id",`findOutMoreLink${o}`),d.setAttribute("href",`https://${e.data[o].wikipediaUrl}`),d.setAttribute("target","_blank"),l.append(d);let p=document.createElement("button");p.setAttribute("id",`findOutMoreButton${o}`),p.setAttribute("class","specialButtonClass"),p.innerHTML="Find out more...",d.append(p)}let v=document.createElement("div");v.setAttribute("id","wikiInfoBackButtonsDiv"),v.setAttribute("class","mainMenuBackButtonDivClass"),t.append(v);let b=document.createElement("button");b.setAttribute("id","wikiInfoBackButton"),b.setAttribute("class","mainMenuBackButtonClass"),b.setAttribute("title","To Main Menu."),b.innerHTML="Back",v.append(b);let m=document.createElement("button");m.setAttribute("id","wikiInfoQuitButtonDiv"),m.setAttribute("class","mainMenuBackButtonClass"),m.setAttribute("title","Quit current view to check different location."),m.innerHTML="Quit",v.append(m),b.onclick=function(){$("#wikiInfoDiv").hide(),$("#mainMenuDiv").show()},m.onclick=function(){$("#mainMenuDiv").show(),$("#wikiInfoDiv").remove()}}},error:function(e,t,i){console.log("The data from WikiInfo have not been sent")}})},f.onclick=function(){$("#popUpDiv").children().each(function(){"mainMenuDiv"!==$(this).attr("id")&&$(this).remove()}),$("#popUpDiv").remove()}},style:function e(t){return{fillColor:"yellow",fillOpacity:.2,color:"orange"}}}).addTo(a),a.on("click",u),$("#countryForm").submit(function(e){e.preventDefault();var t=$("#countryName").val();let i=document.getElementById("countryList").options.length;if(null!=t&&t.length>0){for(let n=0;n<i;n++){let r=document.getElementById("countryList").options[n];if(t.toLowerCase()===r.innerHTML.toLowerCase()||t.toLowerCase()===r.value.toLowerCase()){var s=document.getElementById("countryList").options[n].value;break}}$.ajax({url:"php/restCountries.php",type:"POST",dataType:"json",data:{cca3:s},success:function(e){let t=worldCountries.features.filter(e=>e.properties.iso_a3===s);var i=L.geoJson(t);a.flyToBounds(i.getBounds())},error:function(e,t,i){alert("Country not Found!"),document.getElementById("countryForm").reset()}})}else alert("Invalid Option"),document.getElementById("countryForm").reset()})}):$("#initial-location").append("Geolocation is not supported by this browser")});